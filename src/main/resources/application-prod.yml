management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: never
  health:
    kafka:
      enabled: false   #  Actuator Kafka Health 완전 제거

spring:
  datasource:
    hikari:
      maximum-pool-size: 20     # 10만 트래픽 처리 최적화 (기본값 10 → 20)
      minimum-idle: 10          # 최소 유휴 커넥션
      connection-timeout: 20000 # 커넥션 획득 타임아웃 20초
      idle-timeout: 300000      # 유휴 커넥션 유지 시간 5분
      max-lifetime: 1800000     # 커넥션 최대 수명 30분

  jpa:
    hibernate:
      ddl-auto: validate  # 프로덕션에서는 validate 또는 none 권장
    show-sql: false       # 프로덕션에서는 로깅 최소화
    properties:
      hibernate:
        format_sql: false
        default_batch_fetch_size: 100  # N+1 문제 방지

  kafka:
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS}        #
    listener:
      auto-startup: true        #  Consumer 기동
    admin:
      auto-create: true         # (있어도 되고 없어도 됨)

  batch:
    job:
      enabled: false             #  Batch 자동 실행 차단


# 테스트 후 재 활성화 예정